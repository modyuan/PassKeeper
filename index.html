<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <title>PassKeeper</title>
    <link rel="stylesheet" href="css/index.css">
    <link rel="stylesheet" href="css/anime.css">
    <script src="js/index.js"></script>
</head>
<body>
<div id="btn-wrap">
    <div id="btn-more" title="更多操作" class="circle" @click="trigger">＝</div>
    <div id="btn-new" title="新建记录" class="circle" :style="{animation:animation_add}" @mousemove="keepShow" @click="addItem">＋</div>
    <div id="btn-fix" title="修改当前记录" class="circle" :style="{animation:animation_fix}" @mousemove="keepShow" @click="fixItem">✏</div>
    <div id="btn-del" title="删除当前记录" class="circle" :style="{animation:animation_del}" @mousemove="keepShow" @click="delItem">×</div>
</div>

<div class="search-wrap">
    <div class="search">
        <input type="text" class="search-input" v-model="searchWord" @keyup="update">
        <div class="btn-search">
            <svg viewBox="0 0 16 16" class="icon-search" style="width:24px; width:24px;" aria-hidden="true">
                <title></title>
                <g>
                    <path d="M12.054 10.864c.887-1.14 1.42-2.57 1.42-4.127C13.474 3.017 10.457 0 6.737 0S0 3.016 0 6.737c0 3.72 3.016 6.737 6.737 6.737 1.556 0 2.985-.533 4.127-1.42l3.103 3.104c.765.46 1.705-.37 1.19-1.19l-3.103-3.104zm-5.317.925c-2.786 0-5.053-2.267-5.053-5.053S3.95 1.684 6.737 1.684 11.79 3.95 11.79 6.737 9.522 11.79 6.736 11.79z"></path>
                </g>
            </svg>
        </div>
    </div>

</div>
<div class="select" :style="{display: show? 'block': 'none'}">
    <div v-for="(item,index) in result" @click="goDisplay(item.id)" :id="'result-'+index" :class="{'selected':index===selected}">{{item.id===0?'未找到结果...':'网站：'+item.site}}</div>

</div>
<div class="display clearfix" :style="{display: show?'block':'none'}">
    <table>
        <tr>
            <td>网站名</td>
            <td @contextmenu="Rclick('site')" ><input type="text" :title="current.site" :style="{color:isReadonly?'#555':'#000'}"  :readonly="isReadonly" placeholder="注册网站名称或域名" v-model="current.site"></td>
        </tr>
        <tr>
            <td>用户名</td>
            <td @contextmenu="Rclick('user')"><input type="text" :title="current.user" :style="{color:isReadonly?'#555':'#000'}" :readonly="isReadonly" placeholder="用户名" v-model="current.user"></td>
        </tr>
        <tr>
            <td>密码</td>
            <td @contextmenu="Rclick('password')"><input type="text" :title="current.password" :style="{color:isReadonly?'#555':'#000'}" :readonly="isReadonly" placeholder="密码" v-model="current.password"></td>
        </tr>
        <tr>
            <td>备注</td>
            <td @contextmenu="Rclick('info')"><input type="text" :title="current.info" :style="{color:isReadonly?'#555':'#000'}" :readonly="isReadonly" placeholder="备注：例如注册用途等。" v-model="current.info"></td>
        </tr>
        <tr>
            <td>关键字</td>
            <td @contextmenu="Rclick('keyword')"><input type="text" :title="current.keyword" :style="{color:isReadonly?'#555':'#000'}" :readonly="isReadonly" placeholder="索引，用逗号分隔开。" v-model="current.keyword"></td>
        </tr>
    </table>
    <button id="submit" @click="submit" v-if="!isReadonly">{{newItem?'新增记录':'确认修改'}}</button>
    <button id="cancel" @click="cancel" v-if="!isReadonly">放弃修改</button>

</div>
<div id="message" :style="{opacity:opacity}">{{message}}</div>
</body>
</html>